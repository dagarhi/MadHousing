<div class="leyenda">
  <!-- Botón flotante para abrir/cerrar la leyenda -->
  <button
    class="toggle"
    (click)="toggle()"
    [attr.aria-label]="expanded ? 'Cerrar leyenda de score' : 'Mostrar leyenda de score'"
  >
    <!-- Icono de "leyenda/lista" cuando está cerrado -->
    <lucide-icon
      *ngIf="!expanded"
      name="list-ordered"
      aria-hidden="true"
    ></lucide-icon>

    <!-- Icono de "X" cuando está abierto -->
    <lucide-icon *ngIf="expanded" name="x" aria-hidden="true"></lucide-icon>
  </button>

  <!-- Panel de la leyenda -->
  <div class="panel" *ngIf="expanded">
    <h4>Valor o score</h4>
    <p>La puntuación o valor que un piso recibe viene dado por dos tipos de asignación según su operación:</p>
    <ul>
      <li>Venta: está basado en la relación <strong>€/m²</strong>, cuanto mayor es este valor, peor valoración obtendrá.</li>
      <li>Alquiler: recibe una valoración fija respecto al precio del inmueble, cuanto más barato es el piso, mejor valoración.</li>
    </ul>

    <div class="barra" [ngStyle]="gradientStyle"></div>

    <div class="labels">
      <span>0</span>
      <span>25</span>
      <span>50</span>
      <span>75</span>
      <span>100</span>
    </div>
  </div>
</div>
