<app-drawer-shell
  [(opened)]="opened"
  (openedChange)="onOpenedChange($event)"
  [title]="'ğŸ“Š EstadÃ­sticas por zona'"
  position="right"
  [width]="'600px'"
  [loading]="loading"
>
  <div drawer-content>
    <div class="controls">
      <div class="group">
        <label>Tipo de operaciÃ³n</label>
        <select [(ngModel)]="tipoOperacion" (change)="actualizarGrafico()">
          <option value="sale">ğŸ  Venta</option>
          <option value="rent">ğŸ”‘ Alquiler</option>
        </select>
      </div>

      <div class="group">
        <label>MÃ©trica</label>
        <select [(ngModel)]="metrica" (change)="actualizarGrafico()">
          <option value="precio_medio">ğŸ’¶ Precio medio (â‚¬)</option>
          <option value="tamano_medio">ğŸ“ TamaÃ±o medio (mÂ²)</option>
          <option value="score_medio">â­ Score medio</option>
        </select>
      </div>
    </div>

    <div class="chart-container" *ngIf="!loading && stats">
      <canvas baseChart [data]="chartData" [options]="chartOptions" chartType="bar"></canvas>
    </div>
  </div>
</app-drawer-shell>
